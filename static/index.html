<!DOCTYPE html>
<html>
  <head>
    
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Overview - CloudKarafka MGMT</title>
  <link rel="apple-touch-icon" href="/img/logo.png">

  <link rel="stylesheet" href="/css/style.css">

  <meta property="og:title" content="The best management interface for Apache Kafka" />
  <meta name="author" content="84codes Team" />
  <meta property="og:locale" content="en_US" />
  <meta name="description" content="A brand new open source GUI for administrating your Apache kafka cluster" />
  <meta property="og:description" content="A brand new open source GUI for administrating your Apache kafka cluster" />
  <meta property="og:site_name" content="CloudKarafka MGMT" />
  <meta property="og:image" content="/assets/og-kafka-mgmt.png" />
  <script src="/js/handlebars.min.js"></script>
  <script src="/js/d3.v3.min.js"></script>
  <script src="/js/rickshaw.min.js"></script>
  <script src="/js/notific8.min.js"></script>
  <script src="/js/kafka-auth.js"></script>
  <script src="/js/kafka-helpers.js"></script>
  <script src="/js/kafka-charts.js"></script>
  <script type="text/javascript"> setup() </script>

    <style>
      html,body {
        height: 100%;
      }
    </style>
  </head>
  <body>
     <div class="app-container">
      <nav class="navbar navbar-expand-lg navbar-dark bg-header">
  <div class="container-fluid">
    <div>
      <button class="hamburger hamburger--squeeze kafka-toggle-menu d-block d-lg-none" type="button">
        <span class="hamburger-box">
          <span class="hamburger-inner"></span>
        </span>
      </button>
    </div>
    <div class="text-right">
      <p class="my-2 my-md-0 text-right">
        <a onclick="signout()">
          <span class="icon"><img src="/assets/icons/sign-out.svg" /></span> <span class="link">Sign Out</span></a>
      </p>
    </div>
  </div>
</nav>

      <aside class="sidebar-wrapper">
  <div class="sidebar-header text-center">
    <a href="/" class="app-logo">
      <img src="/assets/mgmt-logo.svg"/>
      <h1 class="logo-text">CloudKarafka MGMT</h1>
    </a>

  </div>
  <div class="sidebar-content">
    <div class="sidebar-info">
      <h2 id="cluster-name" class="host"></h2>
      <p id="username"></p>
    </div>
    <nav class="sidebar-nav">
      <ul>
        
        <li class=" active">
            <a href="/">
              <span class="icon"><img src="/assets/icons/dashboard.svg" /></span>
              <span>Overview</span>
            </a>
        </li>
        
        <li class="">
            <a href="/topics">
              <span class="icon"><img src="/assets/icons/three-bars.svg" /></span>
              <span>Topics</span>
            </a>
        </li>
        
        <li class="">
            <a href="/consumers">
              <span class="icon"><img src="/assets/icons/pacman.svg" /></span>
              <span>Consumers</span>
            </a>
        </li>
        
        <li class="">
            <a href="/brokers">
              <span class="icon"><img src="/assets/icons/pulse.svg" /></span>
              <span>Brokers</span>
            </a>
        </li>
        
        <li class="">
            <a href="/admin">
              <span class="icon"><img src="/assets/icons/tools.svg" /></span>
              <span>Admin</span>
            </a>
        </li>
        
      </ul>
    </nav>
  </div>
</aside>

        <div class="sidebar-backdrop"></div>
<main class="main-container">
  <div class="main-heading">
    <div class="row">
      <div class="col-sm-4 col-12">
        <h1>Overview</h1>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <div class="box">
          <div class="box-header text-center">
            <h2>Total Input/Output</h2>
          </div>
          <div class="box-body input-output" id="throughput">
            <div class="loading-metric chart"></div>
            <div id="axis0"></div>
            <div id="axis1"></div>
            <div id="chart"></div>
          </div>


  <script id='tmpl-no-throughput' type='text/x-handlebars-template'>
    <p class="text-center">
      <strong> No throughput data is available</strong>
    </p>
  </script>


        </div>
      </div>
    </div>
    <div class="row">
      
      <div class="col-md-6 col-lg-4">
        <div class="box box-w-header">
          <div class="box-header">
            
            <span class="icon float-right">
              <img src="/assets/icons/pacman.svg" />
            </span>
            
            <h2>Consumers</h2>
          </div>
          <div class="box-body">
            <div class="clearfix">
              <div id="consumer-count" class="float-left box-data">
                <p class="loading-metric"></p>
              </div>
              
                <div class="float-right box-graph">
                  <p class="loading-metric" style="display:none;"></p>
                  <span id="consumer-sparkline">
                    Loading...
                  </span>
                </div>
              
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-md-6 col-lg-4">
        <div class="box box-w-header">
          <div class="box-header">
            
            <span class="icon float-right">
              <img src="/assets/icons/three-bars.svg" />
            </span>
            
            <h2>Topics</h2>
          </div>
          <div class="box-body">
            <div class="clearfix">
              <div id="topic-count" class="float-left box-data">
                <p class="loading-metric"></p>
              </div>
              
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-md-6 col-lg-4">
        <div class="box box-w-header">
          <div class="box-header">
            
            <span class="icon float-right">
              <img src="/assets/icons/pulse.svg" />
            </span>
            
            <h2>Brokers</h2>
          </div>
          <div class="box-body">
            <div class="clearfix">
              <div id="broker-count" class="float-left box-data">
                <p class="loading-metric"></p>
              </div>
              
                <div class="float-right box-graph">
                  <p class="loading-metric" style="display:none;"></p>
                  <span id="broker-sparkline">
                    Loading...
                  </span>
                </div>
              
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-md-6 col-lg-4">
        <div class="box box-w-header">
          <div class="box-header">
            
            <span class="icon float-right">
              <img src="/assets/icons/inbox.svg" />
            </span>
            
            <h2>Total Topic Size</h2>
          </div>
          <div class="box-body">
            <div class="clearfix">
              <div id="total-topic-size" class="float-left box-data">
                <p class="loading-metric"></p>
              </div>
              
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-md-6 col-lg-4">
        <div class="box box-w-header">
          <div class="box-header">
            
            <span class="icon float-right">
              <img src="/assets/icons/mail-read.svg" />
            </span>
            
            <h2><span class="d-xl-inline d-lg-none d-md-inline">Total Topic</span> Message Count</h2>
          </div>
          <div class="box-body">
            <div class="clearfix">
              <div id="total-message-count" class="float-left box-data">
                <p class="loading-metric"></p>
              </div>
              
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-md-6 col-lg-4">
        <div class="box box-w-header">
          <div class="box-header">
            
            <span class="icon float-right">
              <img src="/assets/icons/organization.svg" />
            </span>
            
            <h2>Users</h2>
          </div>
          <div class="box-body">
            <div class="clearfix">
              <div id="user-count" class="float-left box-data">
                <p class="loading-metric"></p>
              </div>
              
            </div>
          </div>
        </div>
      </div>
      
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="box">
          <div class="box-header">
            <h2 class="mb-0">Notifications</h2>
          </div>
          <div id="notifications">
            <div class="notification loading">
              <div class="message text-center">
                <div class="sk-three-bounce">
                  <div class="sk-child sk-bounce1"></div>
                  <div class="sk-child sk-bounce2"></div>
                  <div class="sk-child sk-bounce3"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
        <script id='tmpl-notifications' type='text/x-handlebars-template'>
          {{#each this}}
          <div class="notification">
            <span class="icon float-left {{ level }}">
            </span>
            <div class="message">
              <h2>{{ type }}</h2>
              <p>
                {{ message }}
              </p>
            </div>
          </div>
          {{ else }}
          <div class="notification">
            <span class="icon float-left success">
            </span>
            <div class="message">
              <h2> No notifications </h2>
            </div>
          </div>
          {{/each}}
        </script>
      
    </div>
  </div>
  <footer>
  <p>
		CloudKarafka MGMT is developed by
		<a href="http://www.84codes.com?ref=kafka-mgmt" target="_blank" class="producer-link">
			<img src="/assets/logo-84codes.svg" alt="Developed by 84codes" />
		</a> and released under
		<a href="https://opensource.org/licenses/MIT" class="footer-link" target="_blank">MIT License</a>.
	</p>
</footer>

  
    <script id='tmpl-metric' type='text/x-handlebars-template'>
      <p class="metric">{{ value }}<small>{{ unit }}</small></p>
    </script>
  
  <script type="text/javascript">
    get('/api/notifications', function(notifications) {
      renderTmpl('#notifications', '#tmpl-notifications', notifications);
    });
    get('/api/brokers', function(brokers) {
      renderTmpl('#broker-count', '#tmpl-metric', { unit: "", value: brokers.length});
    })
    get('/api/topics', function(topics) {
      renderTmpl('#topic-count', '#tmpl-metric', { unit: "", value: topics.length});
      var size = 0;
      var messageCount = 0;
      var i = 0;
      topics.forEach(function(t) {
        get('/api/topics/' + t, function(topic) {
          i += 1
          messageCount += topic.message_count;
          size += topic.size;
          if (i == topics.length) {
            renderTmpl('#total-topic-size', '#tmpl-metric', humanFileSize(size, true))
            renderTmpl('#total-message-count',
              '#tmpl-metric',
              { unit: "", value: messageCount.toLocaleString()});
          }
        })
      })
    })
    get('/api/consumers', function(consumers) {
      var count = 0
      if (consumers) {
        count = consumers.length;
      }
      renderTmpl('#consumer-count', '#tmpl-metric', { unit: "", value: count});
    })
    get('/api/users', function(users) {
      var count = 0
      if (users) {
        count = users.length;
      }
      renderTmpl('#user-count', '#tmpl-metric', { unit: "", value: count});
    })
    get('/api/brokers/throughput', function(data) {
      element("#throughput .loading-metric").hidden = true;
      drawThroughputChart('#throughput', '#chart', '#axis0', data);
    })
  </script>
</main>

    </div>
  
<script src="/js/jquery-3.3.1.min.js"></script>
<script src="/js/tether.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.sparkline.min.js"></script>
<script src="/js/d3.v3.min.js"></script>
<script src="/js/rickshaw.min.js"></script>
<script src="/js/kafka-mgmt.js"></script>


<script type="text/javascript">

$().ready(function(){
  $("#consumer-sparkline").sparkline(
    [2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,0,0,0,0,0,0,0],
    {
      type: 'line',
      width: '120',
      height: '40 ',
      lineColor: '#f44336',
      fillColor: null,
      lineWidth: 2,
      spotColor: null,
      minSpotColor: null,
      maxSpotColor: null,
      highlightSpotColor: null,
      highlightLineColor: null
    }
  );
  $("#broker-sparkline").sparkline(
    [100,100,100,100,100,98,100,100,95,100,100,100,100,100,100,80,100,100,100],
    {
      type: 'line',
      width: '120',
      height: '40 ',
      lineColor: '#00cd00',
      fillColor: null,
      lineWidth: 2,
      spotColor: null,
      minSpotColor: null,
      maxSpotColor: null,
      highlightSpotColor: null,
      highlightLineColor: null
    }
  );
});

var data, graph, i, max, min, point, random, scales, series, _i, _j, _k, _l, _len, _len1, _len2, _ref;

data = [[], []];

random = new Rickshaw.Fixtures.RandomData(12 * 60 * 60);

for (i = _i = 0; _i < 100; i = ++_i) {
  random.addData(data);
}

scales = [];

_ref = data[1];
for (_j = 0, _len = _ref.length; _j < _len; _j++) {
  point = _ref[_j];
  point.y *= point.y;
}

for (_k = 0, _len1 = data.length; _k < _len1; _k++) {
  series = data[_k];
  min = Number.MAX_VALUE;
  max = Number.MIN_VALUE;
  for (_l = 0, _len2 = series.length; _l < _len2; _l++) {
    point = series[_l];
    min = Math.min(min, point.y);
    max = Math.max(max, point.y);
  }
  if (_k === 0) {
    scales.push(d3.scale.linear().domain([min, max]).nice());
  } else {
    scales.push(d3.scale.pow().domain([min, max]).nice());
  }
}

</script>
  </body>
</html>
